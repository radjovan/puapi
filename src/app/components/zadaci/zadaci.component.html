<br>
<div *ngIf="showTaskForm" class="form-container task-container">
    <form [formGroup]="taskForm" (ngSubmit)="addTask()">
      <h1>Kreiraj Novi Zadatak</h1>
      
      <label for="nivo">Nivo težine</label>
      <select id="nivo" formControlName="nivo" required>
        <option value="1">Osnovni</option>
        <option value="2">Srednji</option>
        <option value="3">Napredni</option>
      </select>
      
      <label for="tekst">Tekst zadatka</label>
      <textarea id="tekst" formControlName="tekst" rows="5" (input)="updateLatex()" required></textarea>   
      
      <div>
        <label for="latexOption">Uneti tekst zadatka je Latex kod:</label>
        <input type="checkbox" id="latexOption" formControlName="latex" (change)="updateLatex()">
      </div>

      <div *ngIf="taskForm.get('latex')?.value">
        <label>Latex:</label>
        <div class="latex-output">
          <div [innerHTML]="renderLatex(taskForm.get('tekst')?.value)"></div>
        </div>
      </div>
    
      <label for="idPredmeta">Predmet</label>
      <select id="idPredmeta" formControlName="idPredmeta" required>
        <option *ngFor="let predmet of predmeti" [value]="predmet.id">{{ predmet.naziv +" ("+ predmet.razred + ". razred)" }}</option>
      </select>
  
      <label for="document">Upload photo</label>
      <input type="file" id="document" (change)="onFileChange($event)">
      
      <button type="submit" [disabled]="taskForm.invalid">Dodaj Zadatak</button>
    </form>
  </div>

<div *ngIf="!showTaskForm" class="parent-container">
    <div class="zadatak-info">
      <div class="info-header">
        <h3>KREIRAN ZADATAK:</h3>
      </div>
      <div class="info-body">
        <label>Opis: {{ zadatak?.opis }}</label>
        <br>
        <label>Tekst:</label>
        <p *ngIf="!taskForm.get('latex')?.value">{{ zadatak?.tekst }}</p>
        <div *ngIf="taskForm.get('latex')?.value">
          <div class="latex-output">
            <div [innerHTML]="renderLatex(zadatak?.tekst)"></div>
          </div>
        </div>
        
        <!--<label>Nivo težine: {{ getZadatakClass(taskForm.get('nivo')?.value) }}</label>
        <br>-->
        <label>Predmet:{{ zadatak?.predmet?.naziv +" ("+ zadatak?.predmet?.razred + ". razred)" }}</label>  
        <div *ngIf="imageUrl" class="image-preview">
          <img [src]="imageUrl" alt="Uploaded Image Preview" />
        </div>
      </div>
    </div>
  </div>
  <br>
<div *ngIf="showAnswersForm" class="form-container">
  <h3>DODAJ ODGOVORE:</h3>
  <form [formGroup]="answersForm" (ngSubmit)="submitAnswers()">
    <label for="correct">Tačan odgovor</label>
    <input type="text" id="correct" formControlName="correct" required>
    <label for="forHint">Približan odgovor</label>
    <input type="text" id="forHint" formControlName="forHint" required>
    <label for="hint" style="color:#FFA500;">Pomoć za zadatak sa približnim odgovorom</label>
    <textarea id="hint" formControlName="hint" rows="5" required></textarea>
    <label for="wrong">Pogrešan odgovor</label>
    <input type="text" id="wrong" formControlName="wrong" required>
    <label for="wrong2">Pogrešan odgovor</label>
    <input type="text" id="wrong2" formControlName="wrong2">
    <button type="submit" [disabled]="answersForm.invalid">Dodaj Odgovore</button>
  </form>
</div>

<div *ngIf="showdefinitionForm" class="form-container">
  <form [formGroup]="definitionForm" (ngSubmit)="submitDefinition()">
    <label for="tekst">Teorijski podsetnik</label>
    <div>
      <label for="latexOption">Uneti tekst je Latex kod:</label>
      <input type="checkbox" id="latexOption" formControlName="defLatex" (change)="updateDefLatex()">
    </div>
    <textarea id="tekst" formControlName="tekst" rows="5" (input)="updateDefLatex()" required></textarea>
    
    <div *ngIf="definitionForm.get('defLatex')?.value">
      <label>Latex:</label>
      <div class="latex-output">
        <div [innerHTML]="defMathString"></div>
      </div>
    </div>
    <label for="document">Upload photo</label>
    <input type="file" id="document" (change)="onFileChangeDefinition($event)">
    <button type="submit" [disabled]="definitionForm.invalid">Dodaj Teorijski podsetnik</button>
  </form>
</div>
